syntax = "proto3";

package shared;

option go_package = "galaxy/genproto;genproto";

message Point2d {
  optional int32 x = 1;
  optional int32 y = 2;
}

message Star {
  optional int32 id = 1;
  Point2d pos = 2;
  int32 z = 3;
  string name = 4;
}

message Hyperline {
  optional int32 fromId = 1;
  optional int32 toId = 2;
}

message Galaxy {
  repeated Star stars = 1;
  repeated Hyperline hyperlines = 2;
}

message Item {
    optional int32 starId = 1;
    string name = 2;
}

message Place {
    optional int32 starId = 1;
    string name = 2;
}

message InitialState {
    repeated Item items = 1;
    repeated Place places = 2;
}

message Step {
    string action = 1;
    string item = 2;
}

message Story {
    string title = 1;
    string story = 2;
    InitialState initialState = 3;
    repeated Step steps = 4;
}

enum StarWeatherKind {
  CLEAR = 0;
  STORM = 1;
  RADIATION = 2;
}

message StarWeather {
  optional int32 starId = 1;  
  optional StarWeatherKind weather = 2;
}
